<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Config. with files · Otoroshi</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='otoroshi-manual'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Otoroshi
</a>
<div class="version-number">
1.0.1
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../about.html" class="page">About Otoroshi</a></li>
  <li><a href="../archi.html" class="page">Architecture</a></li>
  <li><a href="../features.html" class="page">Features</a></li>
  <li><a href="../quickstart.html" class="page">Try Otoroshi in 5 minutes</a></li>
  <li><a href="../videos.html" class="page">Video tutorials</a></li>
  <li><a href="../getotoroshi/index.html" class="page">Get Otoroshi</a>
  <ul>
    <li><a href="../getotoroshi/fromsources.html" class="page">From sources</a></li>
    <li><a href="../getotoroshi/frombinaries.html" class="page">From binaries</a></li>
    <li><a href="../getotoroshi/fromdocker.html" class="page">From docker</a></li>
  </ul></li>
  <li><a href="../firstrun/index.html" class="page">First run</a>
  <ul>
    <li><a href="../firstrun/datastore.html" class="page">Choose your datastore</a></li>
    <li><a href="../firstrun/configfile.html" class="active page">Config. with files</a></li>
    <li><a href="../firstrun/env.html" class="page">Config. with ENVs</a></li>
    <li><a href="../firstrun/initialstate.html" class="page">Import initial state</a></li>
    <li><a href="../firstrun/host.html" class="page">Setup your hosts</a></li>
    <li><a href="../firstrun/run.html" class="page">Run Otoroshi</a></li>
  </ul></li>
  <li><a href="../setup/index.html" class="page">Setup Otoroshi</a>
  <ul>
    <li><a href="../setup/admin.html" class="page">Manage admin users</a></li>
    <li><a href="../setup/dangerzone.html" class="page">Configure the Danger zone</a></li>
  </ul></li>
  <li><a href="../usage/index.html" class="page">Using Otoroshi</a>
  <ul>
    <li><a href="../usage/1-groups.html" class="page">Managing service groups</a></li>
    <li><a href="../usage/2-services.html" class="page">Managing services</a></li>
    <li><a href="../usage/3-apikeys.html" class="page">Managing API keys</a></li>
    <li><a href="../usage/4-monitor.html" class="page">Monitoring services</a></li>
    <li><a href="../usage/5-sessions.html" class="page">Managing sessions</a></li>
    <li><a href="../usage/6-audit.html" class="page">Auditing Otoroshi</a></li>
    <li><a href="../usage/7-metrics.html" class="page">Otoroshi global metrics</a></li>
    <li><a href="../usage/8-importsexports.html" class="page">Import and export</a></li>
  </ul></li>
  <li><a href="../integrations/index.html" class="page">Third party Integrations</a>
  <ul>
    <li><a href="../integrations/analytics.html" class="page">Analytics</a></li>
    <li><a href="../integrations/auth0.html" class="page">Auth0</a></li>
    <li><a href="../integrations/mailgun.html" class="page">Mailgun</a></li>
    <li><a href="../integrations/statsd.html" class="page">StatsD / Datadog</a></li>
    <li><a href="../integrations/clevercloud.html" class="page">Clever Cloud</a></li>
  </ul></li>
  <li><a href="../api.html" class="page">Admin REST API</a></li>
  <li><a href="../cli.html" class="page">Rust CLI</a></li>
  <li><a href="../deploy/index.html" class="page">Deploy to production</a>
  <ul>
    <li><a href="../deploy/clevercloud.html" class="page">Clever Cloud</a></li>
    <li><a href="../deploy/other.html" class="page">Others</a></li>
    <li><a href="../deploy/scaling.html" class="page">Scaling Otoroshi *</a></li>
  </ul></li>
  <li><a href="../connectors/index.html" class="page">Connectors</a>
  <ul>
    <li><a href="../connectors/clevercloud.html" class="page">Clever Cloud *</a></li>
    <li><a href="../connectors/kubernetes.html" class="page">Kubernetes *</a></li>
    <li><a href="../connectors/rancher.html" class="page">Rancher *</a></li>
    <li><a href="../connectors/elastic.html" class="page">Elastic *</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title-wrapper">
<div class="title-logo"></div>
<div class="title"><a href="../index.html">Otoroshi</a></div>
</div>
<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Otoroshi
</a>
<div class="version-number">
1.0.1
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../about.html" class="page">About Otoroshi</a></li>
  <li><a href="../archi.html" class="page">Architecture</a></li>
  <li><a href="../features.html" class="page">Features</a></li>
  <li><a href="../quickstart.html" class="page">Try Otoroshi in 5 minutes</a></li>
  <li><a href="../videos.html" class="page">Video tutorials</a></li>
  <li><a href="../getotoroshi/index.html" class="page">Get Otoroshi</a>
  <ul>
    <li><a href="../getotoroshi/fromsources.html" class="page">From sources</a></li>
    <li><a href="../getotoroshi/frombinaries.html" class="page">From binaries</a></li>
    <li><a href="../getotoroshi/fromdocker.html" class="page">From docker</a></li>
  </ul></li>
  <li><a href="../firstrun/index.html" class="page">First run</a>
  <ul>
    <li><a href="../firstrun/datastore.html" class="page">Choose your datastore</a></li>
    <li><a href="../firstrun/configfile.html" class="active page">Config. with files</a></li>
    <li><a href="../firstrun/env.html" class="page">Config. with ENVs</a></li>
    <li><a href="../firstrun/initialstate.html" class="page">Import initial state</a></li>
    <li><a href="../firstrun/host.html" class="page">Setup your hosts</a></li>
    <li><a href="../firstrun/run.html" class="page">Run Otoroshi</a></li>
  </ul></li>
  <li><a href="../setup/index.html" class="page">Setup Otoroshi</a>
  <ul>
    <li><a href="../setup/admin.html" class="page">Manage admin users</a></li>
    <li><a href="../setup/dangerzone.html" class="page">Configure the Danger zone</a></li>
  </ul></li>
  <li><a href="../usage/index.html" class="page">Using Otoroshi</a>
  <ul>
    <li><a href="../usage/1-groups.html" class="page">Managing service groups</a></li>
    <li><a href="../usage/2-services.html" class="page">Managing services</a></li>
    <li><a href="../usage/3-apikeys.html" class="page">Managing API keys</a></li>
    <li><a href="../usage/4-monitor.html" class="page">Monitoring services</a></li>
    <li><a href="../usage/5-sessions.html" class="page">Managing sessions</a></li>
    <li><a href="../usage/6-audit.html" class="page">Auditing Otoroshi</a></li>
    <li><a href="../usage/7-metrics.html" class="page">Otoroshi global metrics</a></li>
    <li><a href="../usage/8-importsexports.html" class="page">Import and export</a></li>
  </ul></li>
  <li><a href="../integrations/index.html" class="page">Third party Integrations</a>
  <ul>
    <li><a href="../integrations/analytics.html" class="page">Analytics</a></li>
    <li><a href="../integrations/auth0.html" class="page">Auth0</a></li>
    <li><a href="../integrations/mailgun.html" class="page">Mailgun</a></li>
    <li><a href="../integrations/statsd.html" class="page">StatsD / Datadog</a></li>
    <li><a href="../integrations/clevercloud.html" class="page">Clever Cloud</a></li>
  </ul></li>
  <li><a href="../api.html" class="page">Admin REST API</a></li>
  <li><a href="../cli.html" class="page">Rust CLI</a></li>
  <li><a href="../deploy/index.html" class="page">Deploy to production</a>
  <ul>
    <li><a href="../deploy/clevercloud.html" class="page">Clever Cloud</a></li>
    <li><a href="../deploy/other.html" class="page">Others</a></li>
    <li><a href="../deploy/scaling.html" class="page">Scaling Otoroshi *</a></li>
  </ul></li>
  <li><a href="../connectors/index.html" class="page">Connectors</a>
  <ul>
    <li><a href="../connectors/clevercloud.html" class="page">Clever Cloud *</a></li>
    <li><a href="../connectors/kubernetes.html" class="page">Kubernetes *</a></li>
    <li><a href="../connectors/rancher.html" class="page">Rancher *</a></li>
    <li><a href="../connectors/elastic.html" class="page">Elastic *</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../index.html">Otoroshi</a></li>
  <li><a href="../firstrun/index.html">First run</a></li>
  <li>Config. with files</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#config-with-files" name="config-with-files" class="anchor"><span class="anchor-link"></span></a>Config. with files</h1>
<p>There is a lot of things you can configure in Otoroshi. By default, Otoroshi provides a configuration that should be enough for testing purpose. But you&rsquo;ll likely need to update this configuration when you&rsquo;ll need to move into production.</p>
<h2><a href="#common-configuration" name="common-configuration" class="anchor"><span class="anchor-link"></span></a>Common configuration</h2>
<table>
  <thead>
    <tr>
      <th>name </th>
      <th align="center">type </th>
      <th>default value </th>
      <th>description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>app.domain</code> </td>
      <td align="center">string </td>
      <td>&ldquo;foo.bar&rdquo; </td>
      <td>the domain on which Otoroshi UI/API is be exposed</td>
    </tr>
    <tr>
      <td><code>app.rootScheme</code> </td>
      <td align="center">string </td>
      <td>&ldquo;http&rdquo; </td>
      <td>the scheme on which Otoroshi is exposed, either &ldquo;http&rdquo; or &ldquo;https&rdquo; </td>
    </tr>
    <tr>
      <td><code>app.snowflake.seed</code> </td>
      <td align="center">number </td>
      <td>0 </td>
      <td>this number will is used to generate unique ids across the cluster. Each Otorshi instance must have a unique seed. </td>
    </tr>
    <tr>
      <td><code>app.events.maxSize</code> </td>
      <td align="center">number </td>
      <td>1000 </td>
      <td>max number of analytic and alert events stored locally </td>
    </tr>
    <tr>
      <td><code>app.backoffice.subdomain</code> </td>
      <td align="center">string </td>
      <td>&ldquo;otoroshi&rdquo; </td>
      <td>the subdomain on wich Otoroshi backoffice will be served </td>
    </tr>
    <tr>
      <td><code>app.backoffice.session.exp</code> </td>
      <td align="center">number </td>
      <td>86400000 </td>
      <td>the number of seconds before the Otoroshi backoffice session expires </td>
    </tr>
    <tr>
      <td><code>app.privateapps.subdomain</code> </td>
      <td align="center">string </td>
      <td>&ldquo;privateapps&rdquo; </td>
      <td>the subdomain on which private apps UI are served </td>
    </tr>
    <tr>
      <td><code>app.privateapps.session.exp</code> </td>
      <td align="center">number </td>
      <td>86400000 </td>
      <td>the number of seconds before the private apps session expires </td>
    </tr>
    <tr>
      <td><code>app.claim.sharedKey</code> </td>
      <td align="center">string </td>
      <td>&ldquo;secret&rdquo; </td>
      <td>the shared secret used for signing the JWT token passed between Otoroshi and backend services </td>
    </tr>
    <tr>
      <td><code>app.webhooks.size</code> </td>
      <td align="center">number </td>
      <td>100 </td>
      <td>number of events sent at most when calling one of the analytics webhooks </td>
    </tr>
  </tbody>
</table>
<h2><a href="#admin-api-configuration" name="admin-api-configuration" class="anchor"><span class="anchor-link"></span></a>Admin API configuration</h2>
<p>When Otoroshi starts for the first time, its datastore is empty. As Otoroshi uses Otoroshi to expose its admin REST API, you&rsquo;ll have to provide the details for the admin API exposition. <strong>This part is super important</strong> because if you go to production with the default values, your Otoroshi server won&rsquo;t be secured anymore.</p><div class="callout warning "><div class="callout-title">Warning</div>
<p>YOU HAVE TO CUSTOMIZE THE FOLLOWING VALUES BEFORE GOING TO PRODUCTION !!</p></div>
<p>Some of the following terms will seem obscure to you, but you will learn their meaning in the following chapters :)</p>
<table>
  <thead>
    <tr>
      <th>name </th>
      <th align="center">type </th>
      <th>default value </th>
      <th>description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>app.adminapi.targetSubdomain</code> </td>
      <td align="center">string </td>
      <td>&ldquo;otoroshi-admin-internal-api&rdquo; </td>
      <td>the subdomain on wich admin API call will be redirected from <code>app.adminapi.exposedDubdomain</code> </td>
    </tr>
    <tr>
      <td><code>app.adminapi.exposedDubdomain</code> </td>
      <td align="center">string </td>
      <td>&ldquo;otoroshi-api&rdquo; </td>
      <td>the subdomain on wich the Otoroshi admin API will be exposed </td>
    </tr>
    <tr>
      <td><code>app.adminapi.defaultValues.backOfficeGroupId</code> </td>
      <td align="center">string </td>
      <td>&ldquo;admin-api-group&rdquo; </td>
      <td>the name of the service groups that will contain the service descriptors for the Otoroshi admin API </td>
    </tr>
    <tr>
      <td><code>app.adminapi.defaultValues.backOfficeApiKeyClientId</code> </td>
      <td align="center">string </td>
      <td>&ldquo;admin-api-apikey-id&rdquo; </td>
      <td>the client id of the Otoroshi admin API apikey </td>
    </tr>
    <tr>
      <td><code>app.adminapi.defaultValues.backOfficeApiKeyClientSecret</code> </td>
      <td align="center">string </td>
      <td>&ldquo;admin-api-apikey-secret&rdquo; </td>
      <td>the client secret of the Otoroshi admin API apikey </td>
    </tr>
    <tr>
      <td><code>app.adminapi.defaultValues.backOfficeServiceId</code> </td>
      <td align="center">string </td>
      <td>&ldquo;admin-api-service&rdquo; </td>
      <td>the id of the service descriptors for the Otoroshi admin API </td>
    </tr>
    <tr>
      <td><code>app.adminapi.proxy.https</code> </td>
      <td align="center">boolean </td>
      <td>false </td>
      <td>whether or not the current Otoroshi instance serves its content over https. This setting is useful for the backoffice UI to access Otoroshi admin API </td>
    </tr>
    <tr>
      <td><code>app.adminapi.proxy.local</code> </td>
      <td align="center">boolean </td>
      <td>true </td>
      <td>whether or not the admin API is accessible through <code>127.0.0.1</code>. This setting is useful for the backoffice UI to access Otoroshi admin API </td>
    </tr>
  </tbody>
</table>
<h2><a href="#db-configuration" name="db-configuration" class="anchor"><span class="anchor-link"></span></a>DB configuration</h2>
<p>As Otoroshi supports multiple datastores, you&rsquo;ll have to provide some details about how to connect/configure it.</p>
<table>
  <thead>
    <tr>
      <th>name </th>
      <th align="center">type </th>
      <th>default value </th>
      <th>description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>app.storage</code> </td>
      <td align="center">string </td>
      <td>&ldquo;inmemory&rdquo; </td>
      <td>what kind of storage engine you want to use. Possible values are <code>inmemory</code>, <code>leveldb</code>, <code>redis</code>, <code>cassandra</code> </td>
    </tr>
    <tr>
      <td><code>app.importFrom</code> </td>
      <td align="center">string </td>
      <td> </td>
      <td>a file path or a URL to an Otoroshi export file. If the datastore is empty on startup, this file will be used to import data to the empty DB </td>
    </tr>
    <tr>
      <td><code>app.importFromHeaders</code> </td>
      <td align="center">array </td>
      <td> [] </td>
      <td>a list of <code>:</code> separated header to use if the <code>app.importFrom</code> setting is a URL </td>
    </tr>
    <tr>
      <td><code>app.redis.host</code> </td>
      <td align="center">string </td>
      <td>&ldquo;localhost&rdquo; </td>
      <td>the host of the redis server </td>
    </tr>
    <tr>
      <td><code>app.redis.port</code> </td>
      <td align="center">number </td>
      <td>6379 </td>
      <td>the port of the redis server </td>
    </tr>
    <tr>
      <td><code>app.redis.slaves</code> </td>
      <td align="center">array </td>
      <td>[] </td>
      <td>the redis slaves lists </td>
    </tr>
    <tr>
      <td><code>app.leveldb.path</code> </td>
      <td align="center">string </td>
      <td>&ldquo;./leveldb&rdquo; </td>
      <td>the path where levelDB files will be written </td>
    </tr>
    <tr>
      <td><code>app.cassandra.hosts</code> </td>
      <td align="center">string </td>
      <td>&ldquo;127.0.0.1&rdquo; </td>
      <td>the host of the cassandra server </td>
    </tr>
    <tr>
      <td><code>app.cassandra.host</code> </td>
      <td align="center">string </td>
      <td>&ldquo;127.0.0.1&rdquo; </td>
      <td>the list of cassandra hosts </td>
    </tr>
    <tr>
      <td><code>app.cassandra.port</code> </td>
      <td align="center">number </td>
      <td>9042 </td>
      <td>the port of the cassandra servers </td>
    </tr>
  </tbody>
</table>
<h2><a href="#headers-configuration" name="headers-configuration" class="anchor"><span class="anchor-link"></span></a>Headers configuration</h2>
<p>Otoroshi uses a fair amount of http headers in order to work properly. The name of those headers are customizable to fit your needs.</p>
<table>
  <thead>
    <tr>
      <th>name </th>
      <th align="center">type </th>
      <th>default value </th>
      <th>description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>otoroshi.headers.trace.label</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Viz-From-Label&rdquo; </td>
      <td>header to pass request tracing informations </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.trace.from</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Viz-From&rdquo; </td>
      <td>header to pass request tracing informations (ip address) </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.trace.parent</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Parent-Request&rdquo; </td>
      <td>header to pass request tracing informations (parent request id) </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.request.adminprofile</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Admin-Profile&rdquo; </td>
      <td>header to pass admin name when the admin API is called from the Otoroshi backoffice </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.request.clientid</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Client-Id&rdquo; </td>
      <td>header to pass apikey client id </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.request.clientsecret</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Client-Secret&rdquo; </td>
      <td>header to pass apikey client secret </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.request.id</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Request-Id&rdquo; </td>
      <td>header containing the id of the current request </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.response.proxyhost</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Proxied-Host&rdquo; </td>
      <td>header containing the proxied host </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.response.error</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Error&rdquo; </td>
      <td>header containing whether or not the request generated an error </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.response.errormsg</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Error-Msg&rdquo; </td>
      <td>header containing error message if some </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.response.proxylatency</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Proxy-Latency&rdquo; </td>
      <td>header containing the current latency induced by Otoroshi </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.response.upstreamlatency</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Upstream-Latency&rdquo; </td>
      <td>header containing the current latency from Otoroshi to service backend </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.response.dailyquota</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Daily-Calls-Remaining&rdquo; </td>
      <td>header containing the number of remaining daily call (apikey) </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.response.monthlyquota</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Monthly-Calls-Remaining&rdquo; </td>
      <td>header containing the number of remaining monthly call (apikey) </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.comm.state</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-State&rdquo; </td>
      <td>header containing a random value for secured mode </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.comm.stateresp</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-State-Resp&rdquo; </td>
      <td>header containing a random value for secured mode </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.comm.claim</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Claim&rdquo; </td>
      <td>header containing a JWT token for secured mode </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.healthcheck.test</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Health-Check-Logic-Test&rdquo; </td>
      <td>header containing a logic test for healthcheck </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.healthcheck.testresult</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Health-Check-Logic-Test-Result&rdquo; </td>
      <td>header containing the result of a logic test for healthcheck </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.jwt.issuer</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi&rdquo; </td>
      <td>the name of the issuer for the JWT token </td>
    </tr>
    <tr>
      <td><code>otoroshi.headers.canary.tracker</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi-Canary-Id&rdquo; </td>
      <td>header containing the ID of the canary session if enabled </td>
    </tr>
  </tbody>
</table>
<h2><a href="#play-specific-configuration" name="play-specific-configuration" class="anchor"><span class="anchor-link"></span></a>Play specific configuration</h2>
<p>As Otoroshi is a <a href="https://www.playframework.com/">Play app</a>, you should take a look at <a href="https://www.playframework.com/documentation/2.5.x/Configuration">Play configuration documentation</a> to tune its internal configuration</p>
<table>
  <thead>
    <tr>
      <th>name </th>
      <th align="center">type </th>
      <th>default value </th>
      <th>description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>http.port</code> </td>
      <td align="center">number </td>
      <td>8080 </td>
      <td>the http port used by Otoroshi. You can use &lsquo;disabled&rsquo; as value if you don&rsquo;t want to use http </td>
    </tr>
    <tr>
      <td><code>https.port</code> </td>
      <td align="center">number </td>
      <td>disabled </td>
      <td>the https port used by Otoroshi. You can use &lsquo;disabled&rsquo; as value if you don&rsquo;t want to use https </td>
    </tr>
    <tr>
      <td><code>play.crypto.secret</code> </td>
      <td align="center">string </td>
      <td>&ldquo;secret&rdquo; </td>
      <td>the secret used to sign Otoroshi session cookie </td>
    </tr>
    <tr>
      <td><code>play.http.session.secure</code> </td>
      <td align="center">boolean </td>
      <td>false </td>
      <td>whether or not the Otoroshi backoffice session will be served over https only </td>
    </tr>
    <tr>
      <td><code>play.http.session.httpOnly</code> </td>
      <td align="center">boolean </td>
      <td>true </td>
      <td>whether or not the Otoroshi backoffice session will be accessible from Javascript </td>
    </tr>
    <tr>
      <td><code>play.http.session.maxAge</code> </td>
      <td align="center">number </td>
      <td>259200000 </td>
      <td>the number of seconds before Otoroshi backoffice session expired </td>
    </tr>
    <tr>
      <td><code>play.http.session.domain</code> </td>
      <td align="center">string </td>
      <td>&ldquo;.foo.bar&rdquo; </td>
      <td>the domain on which the Otoroshi backoffice session is authorized </td>
    </tr>
    <tr>
      <td><code>play.http.session.cookieName</code> </td>
      <td align="center">string </td>
      <td>&ldquo;otoroshi-session&rdquo; </td>
      <td>the name of the Otoroshi backoffice session </td>
    </tr>
    <tr>
      <td><code>play.ws.play.ws.useragent</code> </td>
      <td align="center">string </td>
      <td>&ldquo;Otoroshi&rdquo; </td>
      <td>the user agent sent by Otoroshi if not present on the original http request </td>
    </tr>
    <tr>
      <td><code>play.server.https.keyStore.path</code> </td>
      <td align="center">string </td>
      <td> </td>
      <td>the path to the keystore containing the private key and certificate, if not provided generates a keystore for you </td>
    </tr>
    <tr>
      <td><code>play.server.https.keyStore.type</code> </td>
      <td align="center">string </td>
      <td> </td>
      <td>the key store type, defaults to JKS </td>
    </tr>
    <tr>
      <td><code>play.server.https.keyStore.password</code> </td>
      <td align="center">string </td>
      <td> </td>
      <td>the password, defaults to a blank password </td>
    </tr>
    <tr>
      <td><code>play.server.https.keyStore.algorithm</code> </td>
      <td align="center">string </td>
      <td> </td>
      <td>the key store algorithm, defaults to the platforms default algorithm </td>
    </tr>
  </tbody>
</table>
<h2><a href="#example-of-configuration-file" name="example-of-configuration-file" class="anchor"><span class="anchor-link"></span></a>Example of configuration file</h2>
<pre class="prettyprint"><code class="language-conf">include &quot;base.conf&quot;

http.port = 8080

app {
  storage = &quot;leveldb&quot;
  importFrom = &quot;./my-state.json&quot;
  env = &quot;prod&quot;
  domain = &quot;foo.bar&quot;
  rootScheme = &quot;http&quot;
  snowflake {
    seed = 0
  }
  events {
    maxSize = 1000
  }
  backoffice {
    subdomain = &quot;otoroshi&quot;
    session {
      exp = 86400000
    }
  }
  privateapps {
    subdomain = &quot;privateapps&quot;
    session {
      exp = 86400000
    }
  }
  adminapi {
    targetSubdomain = &quot;otoroshi-admin-internal-api&quot;
    exposedDubdomain = &quot;otoroshi-api&quot;
    defaultValues {
      backOfficeGroupId = &quot;admin-api-group&quot;
      backOfficeApiKeyClientId = &quot;admin-api-apikey-id&quot;
      backOfficeApiKeyClientSecret = &quot;admin-api-apikey-secret&quot;
      backOfficeServiceId = &quot;admin-api-service&quot;
    }
  }
  claim {
    sharedKey = &quot;mysecret&quot;
  }
  leveldb {
    path = &quot;./leveldb&quot;
  }
}

play.http {
  session {
    secure = false
    httpOnly = true
    maxAge = 2592000000
    domain = &quot;.foo.bar&quot;
    cookieName = &quot;oto-sess&quot;
  }
}
</code></pre>
<div class="nav-next">
<p><strong>Next:</strong> <a href="../firstrun/env.html">Config. with ENVs</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../firstrun/configfile.html#config-with-files" class="header">Config. with files</a>
  <ul>
    <li><a href="../firstrun/configfile.html#common-configuration" class="header">Common configuration</a></li>
    <li><a href="../firstrun/configfile.html#admin-api-configuration" class="header">Admin API configuration</a></li>
    <li><a href="../firstrun/configfile.html#db-configuration" class="header">DB configuration</a></li>
    <li><a href="../firstrun/configfile.html#headers-configuration" class="header">Headers configuration</a></li>
    <li><a href="../firstrun/configfile.html#play-specific-configuration" class="header">Play specific configuration</a></li>
    <li><a href="../firstrun/configfile.html#example-of-configuration-file" class="header">Example of configuration file</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2018</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112498312-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-112498312-1');
</script>
</html>




